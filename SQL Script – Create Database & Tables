-- Create Database
CREATE DATABASE HospitalManagementDB;
GO

USE HospitalManagementDB;

-- Users Table
CREATE TABLE Users (
    UserID INT IDENTITY PRIMARY KEY,
    Username VARCHAR(50) UNIQUE NOT NULL,
    Password VARCHAR(100) NOT NULL,
    Role VARCHAR(20),
    CreatedAt DATETIME DEFAULT GETDATE()
);

-- Default admin user
INSERT INTO Users(Username,Password,Role) VALUES('admin','admin','Admin');

-- Patients Table
CREATE TABLE Patients (
    PatientID INT IDENTITY PRIMARY KEY,
    PatientName VARCHAR(100),
    FatherName VARCHAR(100),
    CNIC VARCHAR(20),
    Contact VARCHAR(20),
    AdmissionDate DATE,
    MonthlyFee DECIMAL(10,2),
    Status VARCHAR(20) DEFAULT 'Admitted'
);

-- Patient Fees Table
CREATE TABLE PatientFees (
    FeeID INT IDENTITY PRIMARY KEY,
    PatientID INT,
    FeeMonth VARCHAR(20),
    PaidAmount DECIMAL(10,2),
    FeeDate DATE,
    FOREIGN KEY (PatientID) REFERENCES Patients(PatientID)
);

-- Expenses Table
CREATE TABLE Expenses (
    ExpenseID INT IDENTITY PRIMARY KEY,
    ExpenseDate DATE,
    Category VARCHAR(50),
    Description VARCHAR(200),
    Amount DECIMAL(10,2)
);

